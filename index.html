<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>MovieInfo</title>
    <link rel="stylesheet" href="css/style.css">
  </head>

<body>
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <a class="navbar-brand" href="index.html">MovieInfo</a>
  </nav>

  <div class="container">
    <div class="jumbotron">
      <h3 class="text-center">Search For Any Movie</h3>
      <form id="searchForm">
        <input type="text" class="form-control" id="searchText" placeholder="Search Movies...">
      </form>
    </div>
  </div>

  <div class="container">
    <div id="movies" class="row"></div>
  </div>
  <div class="container">
    <div class="jumbotron">
      <h3 class="text-center">Rating For Any Movie</h3>
      <form>
        <div class="formBox">
            <label for="title">Movie</label>
            <input type="text" id="title" placeholder="Title"/>
        </div>
        <div class="formBox">
            <label for="rate">Rate</label>
            <input type="number" id="rate" placeholder="Rate" step="0.5" min="1" max="5"/>
        </div>
        <div class="formBox">
            <button id="btn">Click to Rate</button>
        </div>
        <div id="msg">
            <pre></pre>
        </div>
      </form>
    </div>
  </div>

<script>
    let movies = [];
    const addMovie = (ev)=>{
        ev.preventDefault();  //to stop the form submitting
        let movie = {
            title: document.getElementById('title').value,
            rate: document.getElementById('rate').value
        }
        movies.push(movie);
        document.forms[0].reset(); // to clear the form for the next entries
        //document.querySelector('form').reset();

        //for display purposes only
        console.warn('added' , {movies} );
        let pre = document.querySelector('#msg pre');
        pre.textContent = '\n' + JSON.stringify(movies, '\t', 2);

        //saving to localStorage
        localStorage.setItem('MyMovieList', JSON.stringify(movies) );
    }
    document.addEventListener('DOMContentLoaded', ()=>{
        document.getElementById('btn').addEventListener('click', addMovie);
    });
</script>
  

  <script src="https://code.jquery.com/jquery-3.1.1.min.js"
    integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <script src="js/main.js"></script>
</body>

</html>